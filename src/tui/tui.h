/**
 * @file tui.h
 * @author Uri Nyx (urinyxr@gmail.com)
 * @brief Some helper headers to render the Monitor
 * @version 0.1
 * @date 2021-11-13
 * 
 * @copyright Copyright (c) 2021
 * 
 */

typedef struct Widget
{
    int x;
    int y;
    char *fmt;
} widg;

/**
 * @brief diferent widgets for the layout of the TUI
 * 
 */
widg reg_w = {2, 2, " %.2x      %.2x      %.2x      %.2x      %.2x      %.2x      %.2x      %.2x"};
widg pc_w = {69, 2, "%.4x"};
widg current_w = {77, 2, "%s"};
widg buff_w = {2, 42, ""};
widg flags_w = {69, 5, ""};
widg memory_cursor_w = {0, 0, ""}; //track memory cursor

uint8_t memory_w[33][16];
uint16_t memory_w_row[32];
uint16_t row_counter;
uint8_t stack_w[256];
uint32_t buffer[256];
uint16_t prev_pc;

///FUNCTION DECLARATIONS

void update_debug_console();

char tui[105][305] =
    {
        " ┏━registers━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓ ┏━control━━━━━━━━━━━━━━━━━━━━━━━━┓\n\r",
        "╔╩═acc═╗┌──bcc─┐┌──r1──┐┌──r2──┐┌──r3──┐┌──r4──┐┌──hx──┐┌──lx──┐┃ ┃╔══pc══╗┌current─instuction────┐┃\n\r",
        "║      ║│      ││      ││      ││      ││      ││      ││      │┃ ┃║      ║│                      │┃\n\r",
        "╚╦═════╝└──────┘└──────┘└──────┘└──────┘└──────┘└──────┘└──────┘┃ ┃╚══════╝└──────────────────────┘┃\n\r",
        " ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛ ┃┌─flags────────────────────────┐┃\n\r",
        "┏━━memory━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓ ┃│                              │┃\n\r",
        "┃┌─row─┬─x0─x1─x2─x3─x4─x5─x6─x7─x8─x9─xa─xb─xc─xd─xe─xf┐ ┌─st─┐┃ ┃│                              │┃\n\r",
        "┃│     │                                                │ │    │┃ ┃└──────────────────────────────┘┃\n\r",
        "┃│     │                                                │ │    │┃ ┃╔═debug════════════════════════╗┃\n\r",
        "┃│     │                                                │ │    │┃ ┃║                              ║┃\n\r",
        "┃│     │                                                │ │    │┃ ┃╚══════════════════════════════╝┃\n\r",
        "┃│     │                                                │ │    │┃ ┃┌─mapped-output────────────────┐┃\n\r",
        "┃│     │                                                │ │    │┃ ┃│ + port 200:                  │┃\n\r",
        "┃│     │                                                │ │    │┃ ┃│ + port 201:                  │┃\n\r",
        "┃│     │                                                │ │    │┃ ┃│ + port 202:                  │┃\n\r",
        "┃│     │                                                │ │    │┃ ┃│ + port 203:                  │┃\n\r",
        "┃│     │                                                │ │    │┃ ┃│ + port 204:                  │┃\n\r",
        "┃│     │                                                │ │    │┃ ┃│ + port 205:                  │┃\n\r",
        "┃│     │                                                │ │    │┃ ┃│ + port 206:                  │┃\n\r",
        "┃│     │                                                │ │    │┃ ┃│ + port 207:                  │┃\n\r",
        "┃│     │                                                │ │    │┃ ┃│ + port 208:                  │┃\n\r",
        "┃│     │                                                │ │    │┃ ┃│ + port 209:                  │┃\n\r",
        "┃│     │                                                │ │    │┃ ┃│ + port 20a:                  │┃\n\r",
        "┃│     │                                                │ │    │┃ ┃│ + port 20b:                  │┃\n\r",
        "┃│     │                                                │ │    │┃ ┃│ + port 20c:                  │┃\n\r",
        "┃│     │                                                │ │    │┃ ┃│ + port 20d:                  │┃\n\r",
        "┃│     │                                                │ │    │┃ ┃└──────────────────────────────┘┃\n\r",
        "┃│     │                                                │ │    │┃ ┃╔═mapped-input═════════════════╗┃\n\r",
        "┃│     │                                                │ │    │┃ ┃║ + port 100:                  ║┃\n\r",
        "┃│     │                                                │ │    │┃ ┃║ + port 101:                  ║┃\n\r",
        "┃│     │                                                │ │    │┃ ┃║ + port 102:                  ║┃\n\r",
        "┃│     │                                                │ │    │┃ ┃║ + port 103:                  ║┃\n\r",
        "┃│     │                                                │ │    │┃ ┃║ + port 104:                  ║┃\n\r",
        "┃│     │                                                │ │    │┃ ┃║ + port 105:                  ║┃\n\r",
        "┃│     │                                                │ │    │┃ ┃║ + port 106:                  ║┃\n\r",
        "┃│     │                                                │ │    │┃ ┃║ + port 107:                  ║┃\n\r",
        "┃│     │                                                │ │    │┃ ┃║ + port 108:                  ║┃\n\r",
        "┃│     │                                                │ │    │┃ ┃║ + port 109:                  ║┃\n\r",
        "┃│     │                                                │ │    │┃ ┃║ + port 10a:                  ║┃\n\r",
        "┃└─────┴────────────────────────────────────────────────┘ └────┘┃ ┃╚══════════════════════════════╝┃\n\r",
        "┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛ ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛\n\r",
        "╔═command══════════════════════════════════════════════════════════════════════════════════════════╗\n\r",
        "║                                                                                                  ║\n\r",
        "╚══════════════════════════════════════════════════════════════════════════════════════════════════╝\n\r"};